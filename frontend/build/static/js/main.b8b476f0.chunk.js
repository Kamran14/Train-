(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},29:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(19),l=a.n(i),u=(a(28),a(2)),s=a(3),r=a(5),c=a(4),d=a(6),h=(a(29),a(20)),v=a(7),p=a.n(v),m="http://34.67.200.241:5000",b=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={videoPath:"",youtubePath:"",youtubePathValid:!1,valid:!1,done:!1},a.onFileChange=function(e){if("MP4"==e.target.value.split(".").pop().toUpperCase()){var t=e.target.value;a.setState({videoPath:t,valid:null!==e.target.value}),null!==e.target.value&&a.submitFile("multipart/form-data")}else e.target.value="",alert("Please upload a valid .mp4")},a.onYoutubeChange=function(e){var t=e.target.value.match(/http(?:s?):\/\/(?:www\.)?youtu(?:be\.com\/watch\?v=|\.be\/)([\w\-\_]*)(&(amp;)?\u200c\u200b[\w\?\u200c\u200b=]*)?/i);a.setState({youtubePath:null!==t?t[1]:e.target.value,youtubePathValid:null!==t}),null!==t&&a.submitYoutube()},a.submitYoutube=function(){console.log("submit youtube1"),a.setState({done:!0},function(){p()({url:"".concat(m,"/youtube?v=").concat(a.state.youtubePath),method:"POST",headers:{"Content-Type":"none"}}).catch(function(e){console.error("ERROR: "+e)}),setTimeout(function(){a.props.onEnter(a.state.youtubePath)},1e3)})},a.submitFile=function(e){console.log("submit file");var t=new FormData;t.append("file",a.state.videoPath),p()({url:"".concat(m,"/upload"),method:"POST",data:t,headers:{"Content-Type":e}}).catch(function(e){console.error("ERROR: "+e)})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.location.hash.length>1&&this.onChange({target:{value:window.location.hash.replace("#","")}})}},{key:"render",value:function(){return o.a.createElement("div",{className:"enter"+(this.state.done?" done":""),id:"enter-area"},o.a.createElement("div",{className:"fileContainer"},o.a.createElement("button",{className:"btn",disabled:this.state.valid},"upload a video file"),o.a.createElement("input",{className:"custom-file-input "+(this.state.valid?"valid":""),disabled:this.state.valid,type:"file",placeholder:"Choose a video to analyze!",onChange:this.onFileChange})),o.a.createElement("input",{className:this.state.valid&&this.state.youtubePathValid?"valid":"",disabled:!this.state.valid,type:"text",placeholder:"Enter Youtube URL",value:this.state.youtubePath,onChange:this.onYoutubeChange}))}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={ready:!1},a.videoRef=o.a.createRef(),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.videoRef.current.addEventListener("canplay",function(){e.setState({ready:!0}),e.props.onReady()})}},{key:"render",value:function(){return o.a.createElement("div",{className:"video-container"+(this.state.ready?" ready":"")},this.state.ready?null:o.a.createElement("div",{className:"loader"},o.a.createElement("div",{className:"spinner"}),o.a.createElement("p",null,"Analyzing... (this may take a while)")),o.a.createElement("video",{controls:!0,ref:this.videoRef}))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={video:null,lang:null,goneWave:!1},a.wave=null,a.updateVideo=function(e,t){a.setState({video:e,lang:t})},a.onReady=function(){a.setState({goneWave:!0}),setTimeout(function(){a.wave.stop()},5e3)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.wave=new h.a({container:document.getElementById("app"),width:window.innerWidth,height:2*window.innerHeight,style:"ios9",speed:.09}),this.wave.start()}},{key:"componentWillUnmount",value:function(){this.wave.stop()}},{key:"render",value:function(){return o.a.createElement("div",{id:"app",className:this.state.goneWave?"goneWave":""},null!==this.state.video?o.a.createElement(f,{onReady:this.onReady,video:this.state.video,lang:this.state.lang}):o.a.createElement(b,{onEnter:this.updateVideo}))}}]),t}(n.Component);l.a.render(o.a.createElement(y,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b8b476f0.chunk.js.map